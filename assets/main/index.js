System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./LogManager.ts"],(function(i){var s,t,u,o,n,e,c,r,l;return{setters:[function(i){s=i.inheritsLoose},function(i){t=i.cclegacy,u=i.resources,o=i.error,n=i.find,e=i.AudioSource,c=i.director},function(i){r=i.Singleton},function(i){l=i.LogManager}],execute:function(){t._RF.push({},"dd24be79BNIBrGtYOPyN6+3","AudioManager",void 0);i("AudioManager",function(i){function t(){var s;return(s=i.call(this)||this).musicVolume=void 0,s.soundVolume=void 0,s.audios=void 0,s.currentMusic=void 0,s.musicAs=null,s.effectAs=null,s.musicVolume=1,s.soundVolume=1,s.audios={},s.currentMusic=null,s}s(t,i);var r=t.prototype;return r.initAudio=function(){},r.playMusic=function(i,s,t){this.play(i,s,!0,t)},r.playSound=function(i,s){this.play(i,s,!1,!1)},r.play=function(i,s,t,n){l.log("===this-isClose",this.isClose());var e=this,c=e.audios[i];if(c)c.isManualStop=!1,e.playClip(i,t,n);else{var r="audios/",a=(r+=t?"music/":"sound/")+i;u.load(a,(function(u,c){if(u)o(u.message||u);else{var r={clip:c,loop:s,isMusic:t};e.audios[i]=r,e.playClip(i,t,n)}}))}},r.playClip=function(i,s,t){if(!this.musicAs||!this.effectAs){var u=n("AudioManager"),o=u.getComponents(e);this.musicAs=o[0],this.effectAs=o[1],c.addPersistRootNode(u)}if(this.musicAs&&this.effectAs){var r=null;s?(r=this.musicAs,this.currentMusic=i):r=this.effectAs;var l=this.audios[i];l.clip!=r.clip||r.playing?(r.stop(),r.clip=l.clip,r.play()):r.play()}},r.getCurrentMusic=function(){return this.currentMusic},r.stop=function(i){},r.openMusic=function(){localStorage.setItem("SWITCH_MUSIC_KEY","1"),this.musicVolume=1,this.effectAs.volume=this.musicAs.volume=1},r.closeMusic=function(){this.effectAs.volume=this.musicAs.volume=0},r.isClose=function(){return 0==this.musicVolume},r.isOpen=function(){return this.musicAs.volume>0},r.changeState=function(i,s){},r.getConfiguration=function(i){var s;return!(s=!0)||"true"===s},r.isAudioStarting=function(i){return!1},r.setVolume=function(i,s){},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/CameraFollowTarget2D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,n,a,l,s,c,u,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Node,s=e.CCFloat,c=e.find,u=e.UITransform,p=e.v3,f=e.math,h=e.Component}],execute:function(){var g,d,m,_,b,v,w,y,N,C,T,D,z;n._RF.push({},"6b353S2Q8xC6ar9OJqailmO","CameraFollowTarget2D",void 0);var F=a.ccclass,x=a.property;e("CameraFollowTarget2D",(g=F("CameraFollowTarget2D"),d=x(l),m=x(l),_=x(s),b=x(s),v=x(s),g((N=t((y=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"cameraNode",N,o(t)),r(t,"targetNode",C,o(t)),r(t,"lerpT",T,o(t)),r(t,"rightBorder",D,o(t)),r(t,"moveSpeed",z,o(t)),t._screenW=0,t._offX=0,t._isActive=!1,t._checkDisMin=1,t}i(t,e);var n=t.prototype;return n.start=function(){var e=c("Canvas").getComponent(u);this._screenW=e.width,this._offX=this._screenW*this.rightBorder},n.update=function(e){this._isActive&&this._following(e)},n.setTarget=function(e){this.targetNode=e},n.run=function(){this._isActive=!0},n.stop=function(){this._isActive=!1},n._following=function(e){if(this.targetNode&&this.cameraNode){var t=this.targetNode.getPosition(),i=this.cameraNode.getPosition(),r=t.x-this._offX,o=p(i);r-i.x>this._checkDisMin&&(o.x=f.lerp(i.x,r,this.lerpT)),this.cameraNode.setPosition(o)}},t}(h)).prototype,"cameraNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"targetNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(y.prototype,"lerpT",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),D=t(y.prototype,"rightBorder",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),z=t(y.prototype,"moveSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),w=y))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/Countdown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LogManager.ts"],(function(t){var i,n,e,o,s,r,u,a,l,c,h,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,u=t.Label,a=t.v3,l=t.tween,c=t.Vec3,h=t.Component},function(t){_=t.LogManager}],execute:function(){var m,p,g,b,f;s._RF.push({},"860217ukV5LJoYorarUH7Gl","Countdown",void 0);var v=r.ccclass,d=r.property;t("Countdown",(m=v("Countdown"),p=d(u),m((f=i((b=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,e(i,"numLbl",f,o(i)),i._isRunning=!1,i._time=0,i._timeInterval=0,i._total=3,i._timeupCb=null,i}n(i,t);var s=i.prototype;return s.update=function(t){this._isRunning&&(this._timeInterval+=t,this._timeInterval>this._total?(this._isRunning=!1,this._timeupCb&&this._timeupCb()):this._timeInterval>this._time+1&&(this._time++,this._setTimeNum(this._total-this._time)))},s.run=function(t,i){_.log("Countdown run"),this._isRunning=!0,this._time=0,this._timeInterval=0,this._total=t,this._timeupCb=i,this._setTimeNum(t)},s._setTimeNum=function(t){if(this.numLbl){this.numLbl.string=t.toString();var i=this.numLbl.node;i.scale=a(.1,.1);l(i).to(.1,{scale:new c(1.1,1.1,1.1)}).to(.1,{scale:new c(1,1,1)}).start()}},i}(h)).prototype,"numLbl",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["cc"],(function(t){var c,e;return{setters:[function(t){c=t.cclegacy,e=t._decorator}],execute:function(){c._RF.push({},"ca85cwJdRRJfJYKnZpYutCE","Events",void 0);e.ccclass,e.property,t("GameEvents",{WALLET_SHOW:"WALLET_SHOW",WALLET_HIDE:"WALLET_HIDE"});c._RF.pop()}}}));

System.register("chunks:///_virtual/FBCoin.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,o,l,c,r,s,a,u,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,l=i.createClass},function(i){c=i.cclegacy,r=i._decorator,s=i.Collider2D,a=i.Node,u=i.Contact2DType,h=i.Component}],execute:function(){var p,b,f,C,_,d,v;c._RF.push({},"c4b06Z7XXpKBY93RlWADU6J","FBCoin",void 0);var y=r.ccclass,g=r.property;i("FBCoin",(p=y("FBCoin"),b=g(s),f=g(a),p((d=t((_=function(i){function t(){for(var t,n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return t=i.call.apply(i,[this].concat(l))||this,e(t,"collider",d,o(t)),e(t,"coinImg",v,o(t)),t._onPickCb=null,t._bAlive=!0,t}n(t,i);var c=t.prototype;return c.init=function(i){this._onPickCb=i.onPickCb,this.setVisible(!0),this._bAlive=!0},c.onLoad=function(){this.collider||(this.collider=this.node.getComponent(s))},c.onEnable=function(){this.collider.on(u.BEGIN_CONTACT,this._onPick,this)},c.onDisable=function(){this.collider.off(u.BEGIN_CONTACT,this._onPick,this)},c._onPick=function(i,t,n){this._bAlive&&this._onPickCb&&this._onPickCb(i,t,this)},c.setVisible=function(i){this.coinImg&&(this.coinImg.active=i)},l(t,[{key:"isAlive",set:function(i){this._bAlive=i}}]),t}(h)).prototype,"collider",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(_.prototype,"coinImg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=_))||C));c._RF.pop()}}}));

System.register("chunks:///_virtual/FBGlobalData.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"b0b3dS4c+1HC42cGFF6jg9f","FBGlobalData",void 0),t("FBGlobalData",(function(){})).VERSION="0.0.6",c._RF.pop()}}}));

System.register("chunks:///_virtual/FBird.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LogManager.ts"],(function(i){var e,t,r,s,n,o,a,c,u,d,h,p,l;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){n=i.cclegacy,o=i._decorator,a=i.SpriteFrame,c=i.Animation,u=i.CCInteger,d=i.v3,h=i.AnimationClip,p=i.Component},function(i){l=i.LogManager}],execute:function(){var _,y,f,A,S,b,M,g,m,V,w,Y,v,F,C;n._RF.push({},"740d43uJghOiovcbY/WX0z2","FBird",void 0);var k=o.ccclass,D=o.property,x=function(i){return i[i.MOVE=0]="MOVE",i[i.ACC_ADD=1]="ACC_ADD",i[i.SIMULATE=2]="SIMULATE",i}(x||{});i("FBird",(_=k("FBird"),y=D([a]),f=D(c),A=D(u),S=D(u),b=D(u),M=D(u),_((V=e((m=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=i.call.apply(i,[this].concat(n))||this,r(e,"birdFrames",V,s(e)),r(e,"birdAnim",w,s(e)),r(e,"upAcc",Y,s(e)),r(e,"downAcc",v,s(e)),r(e,"upSpeedMax",F,s(e)),r(e,"downSpeedMax",C,s(e)),e._curVSpeed=0,e._isAlive=!1,e._isFlying=!1,e._skyY=0,e._groundY=0,e._flyMode=x.MOVE,e}t(e,i);var n=e.prototype;return n.onLoad=function(){},n.init=function(i,e){switch(this._skyY=i,this._groundY=e,this._flyMode){case x.MOVE:this._curVSpeed=.8*-this.downSpeedMax;break;case x.ACC_ADD:case x.SIMULATE:this._curVSpeed=0}},n.start=function(){this._createFrameClip()},n.update=function(i){if(this._isAlive)switch(this._flyMode){case x.MOVE:this._updateNormal(i);break;case x.ACC_ADD:this._updateAccAdd(i);break;case x.SIMULATE:this._updateBySimulate(i)}},n._updateBySimulate=function(i){var e=this._curVSpeed;this._isFlying?this._curVSpeed+=this.upAcc*i:this._curVSpeed-=this.downAcc*i,this._curVSpeed>this.upSpeedMax&&(this._curVSpeed=this.upSpeedMax),this._curVSpeed<-this.downSpeedMax&&(this._curVSpeed=-this.downSpeedMax);var t=e*i+this._curVSpeed*i*.5,r=d(this.node.position);r.y+=t,r.y<this._groundY&&(r.y=this._groundY),r.y>this._skyY&&(r.y=this._skyY),this.node.setPosition(r)},n._updateNormal=function(i){var e=d(this.node.position);e.y+=this._curVSpeed*i,e.y<this._groundY&&(e.y=this._groundY),e.y>this._skyY&&(e.y=this._skyY),this.node.setPosition(e)},n._updateAccAdd=function(i){var e=-this.downAcc*i,t=this._curVSpeed*i+e*i*.5;this._curVSpeed+=e;var r=d(this.node.position);r.y+=t,r.y<this._groundY&&(r.y=this._groundY),r.y>this._skyY&&(r.y=this._skyY),this.node.setPosition(r)},n._createFrameClip=function(){var i=h.createWithSpriteFrames(this.birdFrames,this.birdFrames.length);i.name="fly",i.wrapMode=h.WrapMode.Loop,this.birdAnim.addClip(i),this.birdAnim.play("fly"),l.log("create frame clip",this.birdFrames.length)},n.startFly=function(){this._isAlive=!0},n.fly=function(){switch(this._isFlying=!0,this._flyMode){case x.MOVE:var i=d(this.node.position);i.y+=.03*this.upSpeedMax,i.y<this._groundY&&(i.y=this._groundY),i.y>this._skyY&&(i.y=this._skyY),this.node.setPosition(i);break;case x.ACC_ADD:this._curVSpeed=.5*this.upSpeedMax;break;case x.SIMULATE:}},n.fall=function(){this._isFlying=!1},n.die=function(){this._isAlive=!1},n.reset=function(){switch(this.node.setPosition(d()),this._flyMode){case x.MOVE:this._curVSpeed=.8*-this.downSpeedMax;break;case x.ACC_ADD:case x.SIMULATE:this._curVSpeed=0}},e}(p)).prototype,"birdFrames",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(m.prototype,"birdAnim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(m.prototype,"upAcc",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 800}}),v=e(m.prototype,"downAcc",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),F=e(m.prototype,"upSpeedMax",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),C=e(m.prototype,"downSpeedMax",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),g=m))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/FBRecordManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./Utils.ts","./FBGlobalData.ts"],(function(t){var e,n,r,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.Singleton},function(t){i=t.Utils},function(t){o=t.FBGlobalData}],execute:function(){n._RF.push({},"57764XoS/xOk6LJo55L7wcs","FBRecordManager",void 0);t("FBAction",function(t){return t[t.TOUCH_DOWN=0]="TOUCH_DOWN",t[t.TOUCH_UP=1]="TOUCH_UP",t}({})),t("FBInputType",function(t){return t[t.KEYBOARD=0]="KEYBOARD",t[t.TOUCH_OR_MOUSE=1]="TOUCH_OR_MOUSE",t}({})),t("FBRecordManager",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._record=[],e._startTime=0,e._endTime=0,e}e(n,t);var r=n.prototype;return r.init=function(){this._record=[]},r.recordStart=function(){this._startTime=i.getTimeStamp()},r.recordEnd=function(){this._endTime=i.getTimeStamp()},r.addRecord=function(t,e){var n={timestamp:i.getTimeStamp(),action:t,inputType:e};this._record.push(n)},r.reset=function(){this._record=[],this._startTime=0,this._endTime=0},r.getData=function(){return{start:this._startTime,end:this._endTime,version:o.VERSION,record:this._record}},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/FlappyBirdLite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FBird.ts","./PoolManager.ts","./ScrollControl.ts","./FLevel.ts","./GameBase.ts","./FBGlobalData.ts","./GameResult.ts","./FBRecordManager.ts","./Countdown.ts","./LogManager.ts","./index.ts","./telegram-web.ts","./ToolsView.ts","./GlobalEvent.ts","./Events.ts","./index2.ts","./sha3.js","./rpc.js","./node.js","./custom.js","./ripemd160.js","./utils4.js","./secp256k1.js","./createWalletClient.js","./abstractTestnet.js","./ancient8.js","./ancient8Sepolia.js","./base.js","./baseGoerli.js","./baseSepolia.js","./bob.js","./bobSepolia.js","./celo.js","./celoAlfajores.js","./crab.js","./dchain.js","./dchainTestnet.js","./dodochainTestnet.js","./fraxtal.js","./fraxtalTestnet.js","./funkiMainnet.js","./funkiSepolia.js","./koi.js","./lisk.js","./liskSepolia.js","./mainnet.js","./metalL2.js","./mode.js","./modeTestnet.js","./optimism.js","./optimismGoerli.js","./optimismSepolia.js","./playfiAlbireo.js","./pgn.js","./pgnTestnet.js","./redstone.js","./rss3.js","./rss3Sepolia.js","./zksync.js","./zksyncInMemoryNode.js","./zksyncLocalNode.js","./zksyncSepoliaTestnet.js","./zora.js","./zoraSepolia.js","./zoraTestnet.js"],(function(e){var t,n,i,o,r,s,a,l,c,u,h,d,p,f,b,m,g,v,_,y,C,w,L,S,j,T,E,G,O,R,k,I,U,B,M,z,D,F,A,x,W,N,H,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,c=e.Prefab,u=e.Node,h=e.CCInteger,d=e.Label,p=e.Collider2D,f=e.Button,b=e.Contact2DType,m=e.input,g=e.Input,v=e.find,_=e.UITransform,y=e.KeyCode},function(e){C=e.FBird},function(e){w=e.PoolManager},function(e){L=e.ScrollControl},function(e){S=e.FLevel},function(e){j=e.GameBase},function(e){T=e.FBGlobalData},function(e){E=e.GameResult},function(e){G=e.FBRecordManager,O=e.FBAction,R=e.FBInputType},function(e){k=e.Countdown},function(e){I=e.LogManager},function(e){U=e.Address,B=e.TonConnectUI,M=e.GameFi},function(e){z=e.TelegramWebApp},function(e){D=e.ToolsView},function(e){F=e.default},function(e){A=e.GameEvents},function(e){x=e.defaultConfig,W=e.createWeb3Modal},null,null,null,function(e){N=e.custom},null,null,null,function(e){H=e.createWalletClient},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,function(e){P=e.mainnet},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var K,Y,V,q,X,Z,J,Q,$,ee,te,ne,ie,oe,re,se,ae,le,ce,ue,he,de,pe,fe,be,me,ge,ve,_e,ye,Ce,we,Le,Se,je,Te,Ee,Ge,Oe,Re,ke,Ie,Ue,Be,Me,ze,De;a._RF.push({},"005f9OFOEZNWqyXICbdhSjI","FlappyBirdLite",void 0);var Fe=l.ccclass,Ae=l.property;e("FlappyBirdLite",(K=Fe("FlappyBirdLite"),Y=Ae(c),V=Ae(u),q=Ae(u),X=Ae(u),Z=Ae(u),J=Ae(L),Q=Ae(L),$=Ae(S),ee=Ae(h),te=Ae(h),ne=Ae(h),ie=Ae(d),oe=Ae(p),re=Ae(p),se=Ae(E),ae=Ae(k),le=Ae(f),ce=Ae(d),ue=Ae(u),he=Ae(u),de=Ae(d),pe=Ae(D),K((me=t((be=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"birdPrefab",me,o(t)),i(t,"birdRoot",ge,o(t)),i(t,"touchLayer",ve,o(t)),i(t,"startLayer",_e,o(t)),i(t,"gameOverLayer",ye,o(t)),i(t,"bgScroll",Ce,o(t)),i(t,"groundScroll",we,o(t)),i(t,"levelMng",Le,o(t)),i(t,"initMoveSpeed",Se,o(t)),i(t,"skyY",je,o(t)),i(t,"groundY",Te,o(t)),i(t,"scoreLbl",Ee,o(t)),i(t,"skyCollider",Ge,o(t)),i(t,"groundCollider",Oe,o(t)),i(t,"gameResult",Re,o(t)),i(t,"countdown",ke,o(t)),t._bird=null,t._touchStarted=!1,t._score=0,t._nCoin=0,i(t,"startGameBtn",Ie,o(t)),i(t,"connectLabel",Ue,o(t)),i(t,"top",Be,o(t)),i(t,"logo",Me,o(t)),i(t,"evmConnectLabel",ze,o(t)),i(t,"toolView",De,o(t)),t._bTonInit=!1,t._cocosGameFi=void 0,t._connectUI=void 0,t._evmConnect=void 0,t._evmWalletClient=void 0,t.serverHost="https://tg-cc.image-bot.com/config",t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;I.log("Game:FlappyBird version:"+T.VERSION),z.Instance.init().then((function(e){console.log("telegram web app init : ",e.success)})),fetch(this.serverHost+"/config",{method:"GET"}).then((function(e){return e.json()})).then((function(t){if(console.log("config : ",t),t.ok){var n={tonAddress:t.tokenRecipient,jettonAddress:t.jettonMaster};e.toolView.setTonAddressConfig(n)}else console.error("request config failed!")})),this._rigesterEvent(),this._initPhyEnv(),this._initEvmConnect(),this._initTonConnect()},a._initEvmConnect=function(){var e=this,t=x({metadata:{name:"My Website",description:"My Website description",url:"https://mywebsite.com",icons:["https://avatars.mywebsite.com/"]},enableEIP6963:!0,enableInjected:!0,defaultChainId:56});this._evmConnect=W({ethersConfig:t,chains:[{chainId:1,name:"Ethereum",currency:"ETH",explorerUrl:"https://etherscan.io",rpcUrl:"https://rpc.ankr.com/eth"},{chainId:56,name:"BNB Smart Chain Mainnet",currency:"BNB",explorerUrl:"https://bscscan.com/",rpcUrl:"https://bsc-dataseed4.ninicoin.io"}],projectId:"a3c5251fe077f63e2fe1931521283512",enableAnalytics:!1}),this._evmConnect.subscribeEvents((function(t){e.evmConnectEventHandle(t)}))},a._initTonConnect=function(){var e=r(s().mark((function e(){var t,n=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.toolView.node.active=!1,t=new B({manifestUrl:"https://ton-connect.github.io/demo-dapp-with-wallet/tonconnect-manifest.json"}),e.next=4,M.create({connector:t});case 4:this._cocosGameFi=e.sent,this._connectUI=this._cocosGameFi.walletConnector,this._connectUI.onModalStateChange((function(e){console.log("model state changed! : ",e),n.updateConnect()})),this._connectUI.onStatusChange((function(e){console.log("wallet info status changed : ",e),n.updateConnect()})),this._bTonInit=!0,this.updateConnect();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.isConnected=function(){return this._connectUI?this._connectUI.connected:(console.error("ton ui not inited!"),!1)},a.updateConnect=function(){if(this.isConnected()){var e=this._connectUI.account.address;this.connectLabel.string=U.parseRaw(e).toString({testOnly:!0,bounceable:!1}).substring(0,6)+"..."}else this.connectLabel.string="Connect"},a.evmConnectEventHandle=function(){var e=r(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MODAL_CLOSE"!=t.data.event&&"CONNECT_SUCCESS"!=t.data.event){e.next=3;break}return e.next=3,this.updateWalletAddress();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.updateWalletAddress=function(){var e=r(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.ethereum,void 0!==window.okxwallet&&(t=window.okxwallet),void 0!==window.bitkeep&&"undefined"!==window.bitkeep.ethereum&&(t=window.bitkeep.ethereum),this._evmWalletClient=H({chain:P,transport:N(t)}),e.next=6,this._evmWalletClient.requestAddresses();case 6:if(!((n=e.sent).length>0)){e.next=13;break}return this.evmConnectLabel.string=n[0].slice(-6),e.next=11,this._evmWalletClient.signMessage({message:"Hello, this is cocos game message.",account:n[0]});case 11:e.next=14;break;case 13:this.evmConnectLabel.string="Connect";case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.openModal=function(){var e=r(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._bTonInit){e.next=2;break}return e.abrupt("return");case 2:this.isConnected()?this._connectUI.disconnect():this._connectUI.openModal();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.evmConnect=function(){void 0!==window.ethereum||void 0!==window.okxwallet||void 0!==window.bitkeep?(this.updateWalletAddress(),console.log(navigator.userAgent)):F.emit(A.WALLET_SHOW)},a.start=function(){this.gameLoaded()},a.gameStartBtnClicked=function(){this.countDownGame()},a.countDownGame=function(){var e=this;this._loadLevel(),this.startLayer&&(this.startLayer.active=!0),this.gameOverLayer&&(this.gameOverLayer.active=!1),this.startGameBtn.node.active=!1,this.logo.active=!1,this.top.active=!0,this.skyCollider&&this.skyCollider.on(b.BEGIN_CONTACT,this._outofSky,this),this.groundCollider&&this.groundCollider.on(b.BEGIN_CONTACT,this._onGround,this),this.gameResult&&this.gameResult.hide(),this.scoreLbl&&(this.scoreLbl.node.active=!1),this.countdown&&this.countdown.run(3,(function(){e.startGame()}))},a.update=function(e){this._isGameRunning&&(this._updateBird(),this._updateLevel(),this._updateScore())},a.gameLoaded=function(){this.resetGame(!1),this._bird&&(this._bird.node.active=!1),this.startGameBtn.node.active=!0,this.gameResult.hide(),this.startLayer.active=!1,this.gameOverLayer.active=!1,this.top.active=!1,this.logo.active=!0},a.onEnable=function(){m.on(g.EventType.KEY_DOWN,this._onKeyDown,this),m.on(g.EventType.KEY_UP,this._onKeyUp,this)},a.onDisable=function(){m.off(g.EventType.KEY_DOWN,this._onKeyDown,this),m.off(g.EventType.KEY_UP,this._onKeyUp,this)},a._rigesterEvent=function(){this.touchLayer&&(this.touchLayer.on(g.EventType.TOUCH_START,this._onTouchStart,this),this.touchLayer.on(g.EventType.TOUCH_END,this._onTouchEnd,this)),this.startLayer,this.gameOverLayer&&this.gameOverLayer.on(g.EventType.TOUCH_END,this.resetGame,this)},a._loadLevel=function(){var e=this;this._bird?this._bird.node.active=!0:(this._bird=this._createBird(),this._bird.init(this.skyY,this.groundY));var t=v("Canvas").getComponent(_);this.bgScroll.init(t.width,this.initMoveSpeed),this.groundScroll.init(t.width,this.initMoveSpeed),this.startLayer&&(this.startLayer.active=!0),this.gameOverLayer&&(this.gameOverLayer.active=!1);var n={screenWidth:t.width,initMoveSpeed:this.initMoveSpeed,addScoreCb:function(){return e._addScore()},dieCb:function(){return e._onDead()},addCoinCb:function(){return e._addCoin()}};this.levelMng.init(n)},a._createBird=function(){var e=null;if(this.birdPrefab){var t=w.Instance().getNode(this.birdPrefab,this.birdRoot);t&&(e=t.getComponent(C))}return e},a._onTouchStart=function(e){this._touchStarted=!0,G.Instance().addRecord(O.TOUCH_DOWN,R.TOUCH_OR_MOUSE)},a._onTouchEnd=function(e){this._touchStarted=!1,G.Instance().addRecord(O.TOUCH_UP,R.TOUCH_OR_MOUSE)},a._onKeyDown=function(e){switch(I.log("onKeyDown",e.keyCode),e.keyCode){case y.SPACE:this._touchStarted=!0,G.Instance().addRecord(O.TOUCH_DOWN,R.KEYBOARD)}},a._onKeyUp=function(e){switch(e.keyCode){case y.SPACE:this._touchStarted=!1,G.Instance().addRecord(O.TOUCH_UP,R.KEYBOARD)}},a._updateBird=function(){this._touchStarted?this._bird.fly():this._bird.fall()},a._updateLevel=function(){this.levelMng.onUpdate()},a.onShowTools=function(){this.toolView.node.active=!0,this.toolView.setGameFi(this._cocosGameFi)},a.startGame=function(){this.startLayer&&(this.startLayer.active=!1),this.gameOverLayer&&(this.gameOverLayer.active=!1),this._isGameRunning=!0,this._score=0,this._nCoin=0,this.bgScroll.setRun(!0),this.groundScroll.setRun(!0),this._bird.startFly(),this.levelMng.run(),this.scoreLbl&&(this.scoreLbl.node.active=!0,this.scoreLbl.string="0"),G.Instance().recordStart()},a.gameOver=function(){var e=this;if(G.Instance().recordEnd(),this.startLayer&&(this.startLayer.active=!1),this._isGameRunning=!1,this.bgScroll.setRun(!1),this.groundScroll.setRun(!1),this._bird.die(),this.levelMng.stop(),this.gameResult){var t={score:this._score,coin:this._nCoin,restartCb:function(){return e.resetGame()},homeCb:function(){return e.gameLoaded()},isShowButtons:!0};this.gameResult.init(t),this.gameResult.show()}},a._onGameResetCb=function(e){this.resetGame()},a.resetGame=function(e){var t,n,i=this;void 0===e&&(e=!0),this.startLayer&&(this.startLayer.active=!0),this.gameOverLayer&&(this.gameOverLayer.active=!1),this._score=0,this._nCoin=0,null==(t=this._bird)||t.reset(),null==(n=this.levelMng)||n.reset(),this.gameResult&&this.gameResult.hide(),this.scoreLbl&&(this.scoreLbl.node.active=!1,this.scoreLbl.string="0"),G.Instance().reset(),e&&this.countdown&&this.countdown.run(3,(function(){i.startGame()}))},a._onDead=function(){this.gameOver()},a._addScore=function(){this._isGameRunning&&this._score++},a._addCoin=function(){this._isGameRunning&&this._nCoin++},a._updateScore=function(){this.scoreLbl&&(this.scoreLbl.string=this._nCoin.toString())},a._onGround=function(e,t,n){this._isGameRunning&&this._onDead()},a._outofSky=function(e,t,n){this._isGameRunning&&this._onDead()},t}(j)).prototype,"birdPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(be.prototype,"birdRoot",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(be.prototype,"touchLayer",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(be.prototype,"startLayer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(be.prototype,"gameOverLayer",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(be.prototype,"bgScroll",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(be.prototype,"groundScroll",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(be.prototype,"levelMng",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(be.prototype,"initMoveSpeed",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),je=t(be.prototype,"skyY",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),Te=t(be.prototype,"groundY",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-180}}),Ee=t(be.prototype,"scoreLbl",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(be.prototype,"skyCollider",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(be.prototype,"groundCollider",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(be.prototype,"gameResult",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=t(be.prototype,"countdown",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=t(be.prototype,"startGameBtn",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=t(be.prototype,"connectLabel",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=t(be.prototype,"top",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=t(be.prototype,"logo",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=t(be.prototype,"evmConnectLabel",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=t(be.prototype,"toolView",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=be))||fe));a._RF.pop()}}}));

System.register("chunks:///_virtual/FLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolManager.ts","./FPipe.ts","./FBCoin.ts","./LogManager.ts"],(function(e){var t,i,s,n,o,p,r,a,h,c,u,_,l,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,p=e._decorator,r=e.Prefab,a=e.CCInteger,h=e.Node,c=e.v3,u=e.Component},function(e){_=e.PoolManager},function(e){l=e.FPipe},function(e){b=e.FBCoin},function(e){f=e.LogManager}],execute:function(){var d,v,g,C,S,y,M,P,m,L,I,R,w,x,z,F,N,W,A;o._RF.push({},"32a55jmdvlOooDKZhIyjy0R","FLevel",void 0);var D=p.ccclass,j=p.property;e("FLevel",(d=D("FLevel"),v=j(r),g=j(r),C=j(a),S=j(a),y=j(h),M=j(h),P=j(a),m=j(a),d((R=t((I=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),p=0;p<i;p++)o[p]=arguments[p];return t=e.call.apply(e,[this].concat(o))||this,s(t,"pipePrefab",R,n(t)),s(t,"coinPrefab",w,n(t)),s(t,"pipeSpace",x,n(t)),s(t,"coinSpace",z,n(t)),s(t,"step1",F,n(t)),s(t,"step2",N,n(t)),s(t,"yMin",W,n(t)),s(t,"yMax",A,n(t)),t._isRunning=!1,t._dieCb=null,t._addScoreCb=null,t._screenW=0,t._screenLeft=0,t._screenRight=0,t._initMoveSpeed=0,t._curMoveSpeed=0,t._subCount=0,t._subLen=0,t._pipes1=[],t._pipes2=[],t._coins1=[],t._coins2=[],t._addCoinCb=null,t}i(t,e);var o=t.prototype;return o.init=function(e){this._screenW=e.screenWidth,this._screenRight=Math.floor(.5*e.screenWidth),this._screenLeft=-this._screenRight,this._initMoveSpeed=e.initMoveSpeed,this._curMoveSpeed=e.initMoveSpeed,this._subCount=Math.ceil(e.screenWidth/this.pipeSpace),this._subLen=this._subCount*this.pipeSpace,this._dieCb=e.dieCb,this._addScoreCb=e.addScoreCb,this._addCoinCb=e.addCoinCb},o.run=function(){this._isRunning=!0;var e=this._screenRight,t=this.step1.position;this.step1.setPosition(e,t.y),this._pipes1=this._createStepPipes(this.step1,this._subCount),this._coins1=this._createStepCoins(this.step1,3*this._subCount),e+=this._subLen;var i=this.step2.position;this.step2.setPosition(e,i.y),this._pipes2=this._createStepPipes(this.step2,this._subCount),this._coins2=this._createStepCoins(this.step2,3*this._subCount)},o.stop=function(){this._isRunning=!1;for(var e=0;e<this._pipes1.length;++e){this._pipes1[e].getComponent(l).setActive(!1)}for(var t=0;t<this._pipes2.length;++t){this._pipes2[t].getComponent(l).setActive(!1)}},o.reset=function(){for(var e=0;e<this._pipes1.length;++e)_.Instance().putNode(this._pipes1[e]);for(var t=0;t<this._pipes2.length;++t)_.Instance().putNode(this._pipes2[t]);for(var i=0;i<this._coins1.length;++i)_.Instance().putNode(this._coins1[i]);for(var s=0;s<this._coins2.length;++s)_.Instance().putNode(this._coins2[s])},o.setSpeed=function(e){this._curMoveSpeed=e},o.onUpdate=function(){},o.update=function(e){if(this._isRunning){var t=c(this.step1.position);t.x-=this._initMoveSpeed*e,this.step1.setPosition(t);var i=c(this.step2.position);if(i.x-=this._initMoveSpeed*e,this.step2.setPosition(i),i.x<this._screenLeft){for(var s=0;s<this._pipes1.length;++s)_.Instance().putNode(this._pipes1[s]);this._pipes1=this._pipes2;var n=this.step1;this.step1=this.step2,this.step2=n;var o=this.step1.position.x+this._subLen;f.log("switch step","step1:"+this.step1.name+",step2:"+this.step2.name,this.step1.position.x,o),this.step2.setPosition(o,t.y),this._pipes2=this._createStepPipes(this.step2,this._subCount);for(var p=0;p<this._coins1.length;++p)_.Instance().putNode(this._coins1[p]);this._coins1=this._coins2,this._coins2=this._createStepCoins(this.step2,3*this._subCount)}}},o._createStepPipes=function(e,t){for(var i=this,s=[],n=0,o=this.yMax-this.yMin,p=0;p<t;++p){var r=_.Instance().getNode(this.pipePrefab,e),a=this.yMin+Math.random()*o;r.setPosition(n,a),s.push(r),n+=this.pipeSpace;var h=r.getComponent(l);h&&h.init((function(){return i._dieCb&&i._dieCb()}),(function(){return i._addScoreCb&&i._addScoreCb()}))}return s},o._createStepCoins=function(e,t){for(var i=this,s=[],n=this.coinSpace,o=this.yMax-this.yMin,p=0;p<t;++p){var r=_.Instance().getNode(this.coinPrefab,e),a=this.yMin+Math.random()*o;r.setPosition(n,a),r.active=!0,s.push(r),(n+=this.coinSpace)%this.pipeSpace==0&&(n+=this.coinSpace);var h=r.getComponent(b);if(h){var c={onPickCb:function(e,t,s){f.log("onPickCb",e,t),s.setVisible(!1),s.isAlive=!1,i._addCoinCb()}};h.init(c)}}return s},t}(u)).prototype,"pipePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(I.prototype,"coinPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(I.prototype,"pipeSpace",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 400}}),z=t(I.prototype,"coinSpace",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),F=t(I.prototype,"step1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(I.prototype,"step2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(I.prototype,"yMin",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-100}}),A=t(I.prototype,"yMax",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),L=I))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/FollowTarget.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,r,n,l,a,s,c,u,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Node,s=e.CCBoolean,c=e.CCFloat,u=e.v3,p=e.math,h=e.Component}],execute:function(){var b,f,g,d,y,w,_,v,z,N,T,m,F,M,D;n._RF.push({},"d40c9/uOEpFtKbZHduop+YG","FollowTarget",void 0);var x=l.ccclass,k=l.property;e("FollowTarget",(b=x("FollowTarget"),f=k(a),g=k(a),d=k(s),y=k(s),w=k(s),_=k(c),b((N=t((z=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,o(t,"followNode",N,r(t)),o(t,"targetNode",T,r(t)),o(t,"enableX",m,r(t)),o(t,"enableY",F,r(t)),o(t,"enableZ",M,r(t)),o(t,"lerpT",D,r(t)),t._isActive=!1,t._checkDisMin=2,t}i(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){this._isActive&&this._following(e)},n.setTarget=function(e){this.targetNode=e},n.run=function(){this._isActive=!0},n.stop=function(){this._isActive=!1},n._following=function(e){if(this.targetNode&&this.followNode){var t=this.targetNode.getPosition(),i=this.followNode.getPosition(),o=u(i);this.enableX&&Math.abs(i.x-t.x)>this._checkDisMin&&(o.x=p.lerp(i.x,t.x,this.lerpT)),this.enableY&&Math.abs(i.y-t.y)>this._checkDisMin&&(o.y=p.lerp(i.y,t.y,this.lerpT)),this.enableZ&&Math.abs(i.z-t.z)>this._checkDisMin&&(o.z=p.lerp(i.z,t.z,this.lerpT)),this.followNode.setPosition(o)}},t}(h)).prototype,"followNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(z.prototype,"targetNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(z.prototype,"enableX",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=t(z.prototype,"enableY",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=t(z.prototype,"enableZ",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=t(z.prototype,"lerpT",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),v=z))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/FPipe.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,s,n,o,r,a,l,h;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,s=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,a=i.Collider2D,l=i.Contact2DType,h=i.Component}],execute:function(){var c,p,u,A,_,f,C,b,D;o._RF.push({},"48700V2l71LcYyJAegf728u","FPipe",void 0);var d=r.ccclass,v=r.property;i("FPipe",(c=d("FPipe"),p=v(a),u=v(a),A=v(a),c((C=e((f=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return e=i.call.apply(i,[this].concat(o))||this,s(e,"dieUpArea",C,n(e)),s(e,"dieDownArea",b,n(e)),s(e,"passArea",D,n(e)),e._onDieCb=null,e._onPassCb=null,e._bActive=!1,e}t(e,i);var o=e.prototype;return o.setActive=function(i){this._bActive=i},o.start=function(){this.dieUpArea&&this.dieUpArea.on(l.BEGIN_CONTACT,this._onDie,this),this.dieDownArea&&this.dieDownArea.on(l.BEGIN_CONTACT,this._onDie,this),this.passArea&&this.passArea.on(l.END_CONTACT,this._onPass,this)},o.removeColliderListener=function(){this.dieUpArea&&this.dieUpArea.off(l.BEGIN_CONTACT,this._onDie,this),this.dieDownArea&&this.dieDownArea.off(l.BEGIN_CONTACT,this._onDie,this),this.passArea&&this.passArea.off(l.END_CONTACT,this._onPass,this)},o.init=function(i,e){this._onDieCb=i,this._onPassCb=e,this._bActive=!0},o._onDie=function(i,e,t){this._bActive&&this._onDieCb&&this._onDieCb()},o._onPass=function(i,e,t){this._bActive&&this._onPassCb&&this._onPassCb()},e}(h)).prototype,"dieUpArea",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(f.prototype,"dieDownArea",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(f.prototype,"passArea",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=f))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,a,s,t,r,c;return{setters:[function(e){n=e.inheritsLoose},function(e){a=e.cclegacy,s=e._decorator,t=e.PhysicsSystem2D,r=e.EPhysics2DDrawFlags,c=e.Component}],execute:function(){var i;a._RF.push({},"c3c3a8b/JVAja1JIHZB0kx5","GameBase",void 0);var o=s.ccclass;s.property,e("GameBase",o("GameBase")(i=function(e){function a(){for(var n,a=arguments.length,s=new Array(a),t=0;t<a;t++)s[t]=arguments[t];return(n=e.call.apply(e,[this].concat(s))||this)._isGameRunning=!1,n._isLoadingProgress=0,n}n(a,e);var s=a.prototype;return s._initPhyEnv=function(){t.instance.enable=!0},s._setPhy2DDebug=function(e){t.instance.debugDrawFlags=e?r.Aabb|r.Pair|r.CenterOfMass|r.Joint|r.Shape:r.None},a}(c))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./telegram-web.ts"],(function(t){var e,i,o,r,n,s,a,l,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.Node,l=t.Label,c=t.Component},function(t){u=t.TelegramWebApp}],execute:function(){var b,h,p,f,m,g,v,y,_,d,C;n._RF.push({},"05e7ePf3KtHTJDIs/UNRAlj","GameResult",void 0);var L=s.ccclass,w=s.property;t("GameResult",(b=L("GameResult"),h=w(a),p=w(l),f=w(l),m=w(a),b((y=e((v=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"center",y,r(e)),o(e,"scoreLbl",_,r(e)),o(e,"coinLbl",d,r(e)),o(e,"buttons",C,r(e)),e._restartCb=void 0,e._homeCb=void 0,e}i(e,t);var n=e.prototype;return n.init=function(t){this.scoreLbl&&(this.scoreLbl.string=Math.floor(+t.score).toString()),this.coinLbl&&(this.coinLbl.string=Math.floor(+t.coin).toString()),this._restartCb=t.restartCb,this._homeCb=t.homeCb,this.buttons&&(this.buttons.active=t.isShowButtons)},n.show=function(){this.node.active=!0,this.center.active=!0},n.hide=function(){this.node.active=!1},n.onRestart=function(){this._restartCb&&this._restartCb()},n.onShare=function(){u.Instance.share("https://t.me/cocos_demo_bot/game","Invite you to play a very interesting game")},n.gotoHomePage=function(){this._homeCb&&this._homeCb()},e}(c)).prototype,"center",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(v.prototype,"scoreLbl",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(v.prototype,"coinLbl",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(v.prototype,"buttons",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalEvent.ts",["cc","./LogManager.ts"],(function(t){var n,a;return{setters:[function(t){n=t.cclegacy},function(t){a=t.LogManager}],execute:function(){n._RF.push({},"54a1b+57SRJQ7ZzPtgFt8Yq","GlobalEvent",void 0);t("default",new(function(){function t(){this.handles_={}}var n=t.prototype;return n.emit=function(t,n){(n=n||{}).eventName=t;var a=this.handles_[t];if(a)for(var e=0;e<a.length;e++){var r=a[e];r&&r.callback&&r.callback(n)}},n.on=function(t,n,e){var r=this.handles_[t];if(r)for(var l=0;l<r.length;l++){if(r[l].target==e)return void a.log("===alread exist target")}var i={};i.target=e,i.callback=n.bind(e),this.handles_[t]=this.handles_[t]||[],this.handles_[t].push(i)},n.off=function(t,n){for(var a=this.handles_[t],e=a.length-1;e>=0;e--){var r=a[e];r&&r.target==n&&a.splice(e,1)}},n.offAll=function(t){this.handles_[t]=null},n.offAllByTarget=function(t){var n=this;Object.keys(this.handles_).forEach((function(a){for(var e=n.handles_[a],r=e.length-1;r>=0;r--){var l=e[r];l&&l.target==t&&e.splice(r,1)}}))},t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/LogManager.ts",["cc"],(function(n){var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){o._RF.push({},"2b325zMl7pNbLAHRP4dWQor","LogManager",void 0);n("LogManager",function(){function n(){}return n.log=function(){var n;(n=console).log.apply(n,arguments)},n}());o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./telegram-web.ts","./Events.ts","./FBCoin.ts","./FBGlobalData.ts","./FBRecordManager.ts","./FBird.ts","./FLevel.ts","./FPipe.ts","./FlappyBirdLite.ts","./GameResult.ts","./ResolutionAdjuster.ts","./ScrollControl.ts","./ToolsView.ts","./WalletConnect.ts","./WalletView.ts","./Main.ts","./GameBase.ts","./CameraFollowTarget2D.ts","./Countdown.ts","./FollowTarget.ts","./LogManager.ts","./PoolManager.ts","./Singleton.ts","./Utils.ts","./GlobalEvent.ts","./AudioManager.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,r,e,o;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,o=t.Component}],execute:function(){var i;r._RF.push({},"2f1a6Ng4LZOi5EYJ+Y3VFQd","Main",void 0);var c=e.ccclass;e.property,t("Main",c("Main")(i=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var e=r.prototype;return e.start=function(){},e.update=function(t){},r}(o))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./LogManager.ts"],(function(t){var o,i,n,e,l,c;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t.instantiate,e=t.NodePool},function(t){l=t.Singleton},function(t){c=t.LogManager}],execute:function(){i._RF.push({},"fc96dkimfdB2o00UvukH8oT","PoolManager",void 0);t("PoolManager",function(t){function i(){var o;return(o=t.call(this)||this).exclusion_dict=void 0,o.dictPool=void 0,o.dictPool={},o.exclusion_dict={},o}o(i,t);var l=i.prototype;return l.start=function(){},l.getNode=function(t,o,i){void 0===o&&(o=null),void 0===i&&(i=!1);var l=t.name;if(i){if(this.exclusion_dict[l])return;for(var s in this.exclusion_dict)this.putNode(this.exclusion_dict[s]),delete this.exclusion_dict[s]}var r=null;if(this.dictPool.hasOwnProperty(l)){var u=this.dictPool[l];r=u.size()>0?u.get():n(t)}else{var a=new e;this.dictPool[l]=a,r=n(t)}return i&&(this.exclusion_dict[l]=r),null==r&&(c.log(">>>>>name,",l),c.log(">>>>>prefab,",t),c.log(">>>>>this.dictPool[name],",this.dictPool[l])),null!=o&&o.addChild(r),r},l.putNode=function(t){var o=t.name;this.exclusion_dict[o]&&delete this.exclusion_dict[o];var i=null;this.dictPool.hasOwnProperty(o)?i=this.dictPool[o]:(i=new e,this.dictPool[o]=i),i.put(t)},l.clearPool=function(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()},i}(l));i._RF.pop()}}}));

System.register("chunks:///_virtual/ResolutionAdjuster.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,n,o,r,s,a,u,l,h,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,a=i.CCInteger,u=i.CCBoolean,l=i.View,h=i.ResolutionPolicy,c=i.Component}],execute:function(){var g,d,f,p,D,b,H,y,w,x,z,W,F;r._RF.push({},"b7cf84Lo3lKQaTeZjg7KYPu","ResolutionAdjuster",void 0);var R=s.ccclass,v=s.property;i("ResolutionAdjuster",(g=R("ResolutionAdjuster"),d=v(a),f=v(a),p=v(a),D=v(a),b=v(u),g((w=e((y=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=i.call.apply(i,[this].concat(r))||this,n(e,"fixedWidthDesignWidth",w,o(e)),n(e,"fixedWidthDesignHeight",x,o(e)),n(e,"fixedHeightDesignWidth",z,o(e)),n(e,"fixedHeightDesignHeight",W,o(e)),n(e,"isAutoFit",F,o(e)),e}t(e,i);var r=e.prototype;return r.onLoad=function(){this.isAutoFit&&(this.autoFit(),window.addEventListener("resize",this.autoFit.bind(this)))},r.start=function(){this.isAutoFit&&this.autoFit()},r.autoFit=function(){var i=l.instance.getDesignResolutionSize(),e=l.instance.getViewportRect();l.instance.setOrientation,console.log("viewPortRect = "+e);i.height,i.width;var t=Math.abs(e.size.height)/Math.abs(e.size.width);console.log("rateV = "+t),t<1?l.instance.setDesignResolutionSize(this.fixedWidthDesignWidth,this.fixedWidthDesignHeight,h.FIXED_WIDTH):l.instance.setDesignResolutionSize(this.fixedHeightDesignWidth,this.fixedHeightDesignHeight,h.FIXED_HEIGHT)},e}(c)).prototype,"fixedWidthDesignWidth",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1280}}),x=e(y.prototype,"fixedWidthDesignHeight",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 720}}),z=e(y.prototype,"fixedHeightDesignWidth",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 720}}),W=e(y.prototype,"fixedHeightDesignHeight",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1280}}),F=e(y.prototype,"isAutoFit",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=y))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LogManager.ts"],(function(t){var i,e,o,n,r,s,l,a,p,u,c,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.CCInteger,a=t.Sprite,p=t.v3,u=t.UITransform,c=t.Component},function(t){h=t.LogManager}],execute:function(){var d,g,f,b,S,v,m,y,_,x,W;r._RF.push({},"5be96rGnAJHw4A1Vv2tjj1m","ScrollControl",void 0);var w=s.ccclass,C=s.property;t("ScrollControl",(d=w("ScrollControl"),g=C(l),f=C(l),b=C(l),S=C(a),d((y=i((m=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,o(i,"moveSpeed",y,n(i)),o(i,"loopWidth",_,n(i)),o(i,"extWidth",x,n(i)),o(i,"bgSpr",W,n(i)),i._isRunning=!1,i._startPos=p(),i}e(i,t);var r=i.prototype;return r.init=function(t,i){this._isRunning=!1;var e=this.bgSpr.getComponent(u);e.width=t+this.loopWidth+this.extWidth,h.log("init width",t,this.loopWidth,this.extWidth,e.width),this._startPos=p(this.bgSpr.node.position),this._startPos.x=-Math.ceil(.5*t),this.moveSpeed=i},r.setRun=function(t){this._isRunning=t},r.setMoveSpeed=function(t){this.moveSpeed=t},r.update=function(t){if(this._isRunning){var i=this.bgSpr.node.position,e=p(i.x-this.moveSpeed*t,i.y);this._startPos.x-e.x>this.loopWidth&&(e.x+=this.loopWidth),this.bgSpr.node.setPosition(e)}},i}(c)).prototype,"moveSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),_=i(m.prototype,"loopWidth",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 432}}),x=i(m.prototype,"extWidth",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 64}}),W=i(m.prototype,"bgSpr",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=m))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"66e052PuDFDHaTthUmgPYou","Singleton",void 0),n("Singleton",function(){function n(){}return n.Instance=function(){var n=this;return n._instance||(n._instance=new n),n._instance},n.getInstance=function(){var n=this;return n._instance||(n._instance=new n),n._instance},n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/telegram-web.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,a,o;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,a=e._decorator,o=e.sys}],execute:function(){var s,p;i._RF.push({},"cb8407D3zdPOIUY4npAWBMx","telegram-web",void 0);var l=a.ccclass,c=(a.property,new Promise((function(e,t){if(o.platform===o.Platform.MOBILE_BROWSER||o.platform===o.Platform.DESKTOP_BROWSER){var n=document.createElement("script");n.src="https://telegram.org/js/telegram-web-app.js",n.async=!0,n.onload=function(){var t=setInterval((function(){window.Telegram&&window.Telegram.WebApp&&(e(window.Telegram.WebApp),clearInterval(t))}),100)},n.onerror=function(){return t(new Error("Unable to load TelegramWebApp SDK, please check logs."))},document.head.appendChild(n)}})));e("TelegramWebApp",l("TelegramWebApp")(((p=function(){function e(){this._tgWebAppJS=null}var i=e.prototype;return i.init=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:if(this._tgWebAppJS=e.sent,!this._tgWebAppJS){e.next=7;break}return e.abrupt("return",Promise.resolve({success:!0}));case 7:return e.abrupt("return",Promise.resolve({success:!1}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.openTelegramLink=function(e){this._tgWebAppJS?this._tgWebAppJS.openTelegramLink(e):console.error("telegram web app is not inited!")},i.share=function(e,t){var n="https://t.me/share/url?url="+e+"&"+new URLSearchParams({text:t||""}).toString();this.openTelegramLink(n)},i.shareToStory=function(e,t,n,r){if(this._tgWebAppJS){var i={text:t,widget_link:{url:n,name:r}};this._tgWebAppJS.shareToStory(e,i)}else console.error("telegram web app is not inited!")},i.getTelegramWebApp=function(){return this._tgWebAppJS},i.getTelegramWebAppInitData=function(){return this._tgWebAppJS?this._tgWebAppJS.initDataUnsafe:(console.error("telegram web app is not inited!"),null)},i.getTelegramUser=function(){return this._tgWebAppJS?this._tgWebAppJS.initDataUnsafe.user:(console.error("telegram web app is not inited!"),null)},i.getTelegramInitData=function(){return this._tgWebAppJS?this._tgWebAppJS.initData:(console.error("telegram web app is not inited!"),null)},i.openInvoice=function(e,t){if(!this._tgWebAppJS)return console.error("telegram web app is not inited!"),null;this._tgWebAppJS.openInvoice(e,t)},i.alert=function(e){this._tgWebAppJS.showAlert(e)},t(e,null,[{key:"Instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,s=p))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ToolsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./telegram-web.ts"],(function(e){var t,n,o,a,r,i,s,c,l,u,p,g,h,d,m,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Sprite,u=e.Label,p=e.assetManager,g=e.SpriteFrame,h=e.Texture2D,d=e.Component},function(e){m=e.Address,f=e.toNano},function(e){b=e.TelegramWebApp}],execute:function(){var v,_,y,w,T,F,L,S,C,I,A;s._RF.push({},"874acV7CphGFoiviIgCenwz","ToolsView",void 0);var j=c.ccclass,z=c.property;e("ToolsView",(v=j("ToolsView"),_=z(l),y=z(u),w=z(u),T=z(u),v((S=t((L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,o(t,"headSp",S,a(t)),o(t,"nameLab",C,a(t)),o(t,"addressLab",I,a(t)),o(t,"searchLab",A,a(t)),t._gameFi=void 0,t._tonAddressConfig=void 0,t.serverHost="http://127.0.0.1:8888",t}n(t,e);var s=t.prototype;return s.start=function(){this.searchLab.string=window.location.search},s.setGameFi=function(e){if(this._gameFi=e,this._gameFi&&this._gameFi.walletConnector.connected){var t=this._gameFi.walletConnector.account.address;this.addressLab.string=m.parseRaw(t).toString({testOnly:!0,bounceable:!1}).substring(0,6)+"..."}else this.addressLab.string="Unconnected";this.updateTelegramInfo()},s.setTonAddressConfig=function(e){this._tonAddressConfig=e},s.updateTelegramInfo=function(){var e=b.Instance.getTelegramUser();if(console.log("userData : ",e),e&&(e.username?this.nameLab.string=e.username:this.nameLab.string=e.first_name+" "+e.last_name?e.last_name:"",e.photo_url)){var t=e.photo_url.split(".").pop().toLowerCase();"jpeg"!=t&&"jpg"!=t&&"png"!=t||p.loadRemote(e.photo_url,(function(e,t){var n=new g,o=new h;o.image=t,n.texture=o,this.headSp.spriteFrame=n}))}},s.onClose=function(){this.node.active=!1},s.onTransferTon=function(){var e;if(this._gameFi&&null!=(e=this._gameFi.walletConnector)&&e.connected){var t={to:m.parse(this._tonAddressConfig.tonAddress),amount:f(.01)};this._gameFi.transferTon(t)}},s.onBuyWithTon=function(){var e={amount:f(.01)};this._gameFi.buyWithTon(e)},s.onShowJetton=function(){var e=m.parse(this._tonAddressConfig.jettonAddress);(function(){var e=r(i().mark((function e(t,n){var o,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.assetsSdk.openJetton(n),e.next=3,o.getContent();case 3:a=e.sent,r="jetton name: "+a.name+"\njetton decimals: "+a.decimals,b.Instance.alert(r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}})()(this._gameFi,e)},s.onGetTelegramUserData=function(){this.updateTelegramInfo()},s.onShare=function(){var e="",t=b.Instance.getTelegramUser();console.log("userData : ",t),t&&(e=t.id+""),b.Instance.share("https://t.me/cocos_demo_bot/game?startapp=ref_code_"+e,"Invite you to play a very interesting game")},s.onShareStory=function(){b.Instance.shareToStory(this.serverHost+"/story.mp4","Invite you to play a crazy game","https://t.me/cocos_demo_bot/game","click join")},s.onBuyWithStars=function(){fetch(this.serverHost+"/create-stars-invoice",{method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log("starts invoice : ",e),e.ok?b.Instance.openInvoice(e.invoiceLink,(function(e){console.log("buy stars : ",e)})):console.error("request config failed!")}))},t}(d)).prototype,"headSp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(L.prototype,"nameLab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(L.prototype,"addressLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(L.prototype,"searchLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=L))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(r){var t,n;return{setters:[function(r){t=r.cclegacy,n=r.sys}],execute:function(){t._RF.push({},"7be38aXQdpAAqmXMi5TZi7b","Utils",void 0);r("Utils",function(){function r(){}return r.rollBoolArray=function(r,t,n){for(var e=r.length,a=0;a<t&&a<e;++a){var o=Math.floor(Math.random()*e),i=r[a];r[a]=r[o],r[o]=i}for(var c=0;c<n;++c){var u=Math.floor(Math.random()*e),l=Math.floor(Math.random()*e),f=r[u];r[u]=r[l],r[l]=f}},r.OpenURLByNewTab=function(r){n.openURL(r)},r.OpenURLByCurTab=function(r){window.location.href=r},r.getTimeStamp=function(){return Date.now()},r.getTimeStampSecond=function(){return Math.floor(this.getTimeStamp()/1e3)},r.getLocationUrlParam=function(r){var t=window.location.search;return new URLSearchParams(t).get(r)},r.getUrlParam1=function(r,t){var n=new URL(r).search.slice(1);return new URLSearchParams(n).get(t)},r.getUrlParam2=function(r,t){for(var n=new URL(r).search.slice(1).split("&"),e=0;e<n.length;e++){var a=n[e].split("=");if(a[0]===t)return a[1]}return""},r.getUrlParam3=function(r,t){var n=new URL(r),e=new RegExp("[?&]"+t+"=([^&]*)(&?)","i"),a=n.search.match(e);return a?a[1]:""},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/WalletConnect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,a,l,c,u,s,f,p,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,l=t._decorator,c=t.Node,u=t.Prefab,s=t.Component,f=t.instantiate,p=t.Button,b=t.Label}],execute:function(){var h,d,g,v,y,C,m,z,D;a._RF.push({},"a856e7YIOVIcaG/H6RztA4Z","WalletConnect",void 0);var P=l.ccclass,B=l.property;t("WalletConnect",(h=P("WalletConnect"),d=B(c),g=B(u),v=B(c),h((m=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"contentNode",m,i(e)),o(e,"buttonPrefab",z,i(e)),o(e,"closeButton",D,i(e)),e.items=["选项1","选项2","选项3","选项4","选项5"],e}n(e,t);var a=e.prototype;return a.start=function(){this.initializeDialog()},a.initializeDialog=function(){var t=this;if(this.contentNode&&this.buttonPrefab)for(var e,n=function(){var n=e.value,o=f(t.buttonPrefab);t.contentNode.addChild(o);var i=o.getComponent(p),r=o.getComponentInChildren(b);r&&(r.string=n),i&&i.node.on(p.EventType.CLICK,(function(){console.log("点击了 "+n)}),t)},o=r(this.items);!(e=o()).done;)n();this.closeButton&&this.closeButton.on(c.EventType.TOUCH_END,this.closeDialog,this)},a.closeDialog=function(){this.node.active=!1},e}(s)).prototype,"contentNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(C.prototype,"buttonPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"closeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/WalletView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts","./Events.ts"],(function(t){var n,e,i,o,a,r,l,s,p,c,h,u,g,d,f,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,s=t.UIOpacity,p=t.UITransform,c=t.View,h=t.v3,u=t.ScrollView,g=t.tween,d=t.Component},function(t){f=t.default},function(t){m=t.GameEvents}],execute:function(){var w,b,k,y,v,T,L;a._RF.push({},"7c4853xMCxCCJyoNZ/Dxk6v","WalletView",void 0);var C=r.ccclass,U=r.property;t("WalletView",(w=C("WalletView"),b=U(l),k=U(l),w((T=n((v=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"background",T,o(n)),i(n,"panel",L,o(n)),n.backgroundOpacity=null,n.panelUITransform=null,n.gameUrl="http://127.0.0.1:8888",n}e(n,t);var a=n.prototype;return a.onLoad=function(){this.backgroundOpacity=this.background.getComponent(s),this.backgroundOpacity.opacity=0,this.panelUITransform=this.panel.getComponent(p);var t=c.instance.getVisibleSize();this.panelUITransform.setContentSize(t.width,.4*t.height),this.panel.position=h(0,-this.panelUITransform.height-.5*t.height,this.panel.position.z),this.background.active=!1,this.panel.getChildByName("ScrollView").getComponent(u).scrollToTop(),f.on(m.WALLET_SHOW,this.show,this),f.on(m.WALLET_HIDE,this.hide,this)},a.onDestroy=function(){f.off(m.WALLET_SHOW,this.show),f.off(m.WALLET_HIDE,this.hide)},a.show=function(){var t=this;this.panel.getChildByName("ScrollView").getComponent(u).scrollToTop();var n=c.instance.getVisibleSize();g(this.backgroundOpacity).call((function(){t.background.active=!0})).to(.2,{opacity:140}).start(),g(this.panel).to(.4,{position:h(0,.5*-n.height-30,this.panel.position.z)}).start()},a.hide=function(){var t=this,n=c.instance.getVisibleSize();g(this.backgroundOpacity).to(.2,{opacity:0}).call((function(){t.background.active=!1})).start(),g(this.panel).to(.4,{position:h(0,-this.panelUITransform.height-n.height,this.panel.position.z)}).start()},a.metamaskConnect=function(){this.openLink("https://metamask.app.link/dapp/"+this.gameUrl)},a.bitgetConnect=function(){this.openLink("https://bkcode.vip/?action=dapp&url="+this.gameUrl)},a.okxConnect=function(){this.openLink("https://www.okx.com/download?deeplink=okx://wallet/dapp/url?dappUrl="+encodeURIComponent(this.gameUrl))},a.openLink=function(t){window.Telegram&&window.Telegram.WebApp?window.Telegram.WebApp.openLink(t):window.open(t,"_blank")},n}(d)).prototype,"background",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(v.prototype,"panel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});